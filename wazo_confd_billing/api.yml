paths:
  /rating:
    get:
      summary: List All Ratings
      description: '**Required ACL:** `confd.billing.read`'
      tags:
        - rating
      parameters:
        - $ref: '#/parameters/tenantuuid'
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/definitions/RatingItems'
    post:
      summary: Add Rating
      description: '**Required ACL:** `confd.rating.create`'
      tags:
        - rating
      parameters:
        - $ref: '#/parameters/tenantuuid'
        - name: body
          in: body
          description: Raing to create
          required: true
          schema:
            $ref: '#/components/schemas/RatingList' 
      responses:
        '201':
          description: Rating created
          schema:
            $ref: '#/definitions/RatingItems'                
        '400':
          $ref: '#/responses/CreateError'

  /billing/aparty/{aparty_number}:
    get:
      summary: List billing bulk for aparty_number
      description: '**Required ACL:** `confd.billing.read`'
      tags:
        - billing
      parameters:
        - $ref: '#/parameters/tenantuuid'
        - $ref: '#/parameters/aparty_number'
        - name: start
          in: query
          description: Start Search Date
          required: true
          explode: true
          schema:
            type: string
        - name: end
          in: query
          description: End search Date
          required: true
          explode: true
          schema:
            type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/definitions/BulkItems'

components:
  schemas:
    RatingList:
      type: object
      properties:
        queue_id:
          type: string
          example: 1
        play_agentnumber_enable:
          type: string
          example: 0
        queue_survey_enable:
          type: string
          example: 1
      xml:
        name: RatingList

definitions:
  RatingItems:
    title: RatingItems
    allOf:
      - properties:
          id:
            type: integer
            readOnly: true
            description: The id of the billing list
          tenant_uuid:
            type: string
            readOnly: true
            description: The tenant UUId
          agent_id:
            type: string
            readOnly: true
            description: The tenant UUId
          agent_number:
            type: string
            readOnly: true
            description: The agent_number
          queue_id:
            type: string
            readOnly: true
            description: The queue_id
          queue_name:
            type: string
            readOnly: true
            description: The queue_name
          queue_number:
            type: string
            readOnly: true
            description: queue_number
          call_id:
            type: string
            readOnly: true
            description: call_id
          timestamp:
            type: string
            readOnly: true
            description: The timestamp
          rate:
            type: string
            readOnly: true
            description: The rate

parameters:
  tenantuuid:
    name: Wazo-Tenant
    type: string
    in: header
    description: "The tenant's UUID, defining the ownership of a given resource."
    required: false
  aparty_number:
    required: true
    type: integer
    name: aparty_number
    in: path
    description: Aparty Number